<!doctype html>
  <html lang="pt-br">
    <head>
	<meta charset="utf-8">
	    <title> IETEL Solar </title>
	    <meta name="viewport" content="width=device-width, initial-scale=1">
	  
	    <!-- Bootstrap e CSS -->
	    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" />
        <link href="~/css/estilo.css" rel="stylesheet" type="text/css">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" integrity="sha384-HyZ9BlizpkTN8gDzL3b9IcfZkAMsVgwekg1OECcF7S+cm5lP5nLOvFUbd1VlRM2i" crossorigin="anonymous">

        <script src="https://assets.hgbrasil.com/weather/js/hg-weather-1.0.js" type="text/javascript"> </script>
	<script src="https://kit.fontawesome.com/4154c25085.js" crossorigin="anonymous"></script>
      
	</head>

	<body>

        <!-- Menu Responsivo -->
        <nav class="navbar navbar-expand-lg navbar-light bg-white">
            
            <div class="container-fluid">
                
                <a href="/informacao/index"> <img class="logomarca" src="~/imagens/logo_ietel.png">  </a>
                <a href="/informacao/index"> <img class="logotipo"  src="~/imagens/letra_ietel.png"> </a>

                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav">

                        <li class="nav-item">
                            <a class="nav-link" href="/informacao/funcionamento"> Funcionamento </a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/calculadora/calculadoraSolar"> Calculadora Solar </a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/orcamento/orcamento"> Orçamento </a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/informacao/sobreNos"> Sobre Nós </a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/vaga/listaVagaCandidato"> Trabalhe Conosco </a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/informacao/contato"> Contato </a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/login/login"> <button class="login"> Login </button> </a>
                        </li>

                    </ul>
                </div>
            </div>
        </nav>
        

        <!-- Clima -->
	    <div class="container" style="padding: 0.4%;">

            <table>
                <tr>    
                    <td> <i onclick="getLocation()" class="fa-solid fa-location-dot" style="color: #f58934; margin-left: 5px;"> </i> </td>
                    <td width="20%"> <div class="location" style="margin-left: 10px;"> </div> </td>

                    <td> <i class="fa-solid fa-solar-panel" style="color: #f58934;"> </i> </td>
                    <td width="20%"> <div class="description" style="margin-left: 10px;"> </div> </td>

                    <td> <i class="fa-solid fa-temperature-low" style="color: #f58934;"> </i> </td>
                    <td width="20%"> <div class="temp" style="margin-left: 10px;"> </div> </td>

                    <td> <i class="fa-solid fa-sun" style="color: #f58934;"> </i> </td>
                    <td width="20%"> <div class="sun" style="margin-left: 10px;"> </div> </td>

                    <td> <i class="fa-solid fa-droplet" style="color: #f58934;"> </i> </td>
                    <td width="20%"> <div class="humidity" style="margin-left: 10px;"> </div> </td>
                </tr>
            </table>
        </div>


        <!-- Vídeo -->
        <div class="container">
            <img class="video" src="~/imagens/placa_solar.gif">
        </div>

        
        <!-- Cards -->
        <div class="container" style="background: #082b59;">
            <div class="cards">
                <span>
                    <img class="imagem_card" src="~/imagens/imagem_card_1.png">
                    <p class="letra_card"> + </p>
                    <p class="letra_card"> ECONÔMICA </p> 
                </span>
                <span>
                    <img class="imagem_card" src="~/imagens/imagem_card_2.png">
                    <p class="letra_card"> + </p>
                    <p class="letra_card"> SEGURA </p> 
                </span>
                <span>
                    <img class="imagem_card" src="~/imagens/imagem_card_3.png">
                    <p class="letra_card"> + </p>
                    <p class="letra_card"> SUSTENTÁVEL </p> 
                </span>
                <span>
            </div>
        </div>
        
        <!-- Rodapé -->
	 <footer>
            <table width="100%">
            <th>
            <div class="social-icons">
                
                Nos Siga:
                <!-- Ícone do Facebook -->
                <a href="https://www.facebook.com/ietelsolar" target="_blank">
                    <i class="fa-brands fa-square-facebook"></i> </a>
                <!-- Ícone do Instagram -->
                <a href="https://www.instagram.com/ietelsolar/" target="_blank">
                    <i class="fa-brands fa-square-instagram"></i></a>

                <!-- Ícone do Linkedin -->
                <a href="https://www.linkedin.com/in/ietel-solar-7754a2219/" target="_blank">
                    <i class="fa-brands fa-linkedin"></i> </a> 

                    <th width="20%">Telefone: 17 3249-1065</br>
                    17 98139-2242</th>
                    
                    <th width="40%">Endereço: Av.Gabriel Péres Martins,311, Distrito Industrial</br>
                    Potirendaba - SP, 15105-000</th>
                    
                    <th width="20%">Horário: 08h às 18h</th></tr>
            </div>
            </table>    
            
        </footer>

	</body>
  </html>



  <!-- API do Clima -->
  <script>

    let locale      = document.querySelector(".location");
    let description = document.querySelector(".description");
    let temp        = document.querySelector(".temp");
    let sun         = document.querySelector(".sun");
    let humidity    = document.querySelector(".humidity");
    const kelvin    = 273;
        
    function getLocation()
    {
        if (navigator.geolocation)
        {
            navigator.geolocation.getCurrentPosition(showPosition, showError);

            function showPosition(position)
            {
                const base = 'https://api.openweathermap.org/data/2.5/weather?lat=' + position.coords.latitude + 
                '&lon=' + position.coords.longitude + '&appid=a9f81072d5b1976feb2871ec7f6a024b&lang=' + 'pt_br';	

                fetch(base)
                    .then((response) => { return response.json(); })
                    .then((data) => {
                    locale.textContent = data.name;

                    sunrise = new Date(data.sys.sunrise * 1000);
                    sunrise_hours = sunrise.getUTCHours();
                    sunrise_minutes = sunrise.getUTCMinutes();
                    sunrise_formatted = (sunrise_hours.toString().padStart(2, '0') - 3) + ':' + sunrise_minutes.toString().padStart(2, '0');


                    sunset = new Date(data.sys.sunset * 1000);
                    sunset_hours = sunset.getUTCHours();
                    sunset_minutes = sunset.getUTCMinutes();
                    sunset_formatted = (sunset_hours.toString().padStart(2, '0') - 3) + ':' + sunset_minutes.toString().padStart(2, '0');


                    description.textContent = data.weather[0].description;
                    temp.textContent =  Math.floor(data.main.temp - kelvin) + "°C";
                    sun.textContent = sunrise_formatted + "h - " + sunset_formatted + "h";
                    humidity.textContent = data.main.humidity + "%";
                    
                    });	
            }

            function showError(error)
            {
                switch(error.code)
                {
                    case error.PERMISSION_DENIED:
                        alert("A Solicitação foi Rejeitada !");
                        break;
                    case error.POSITION_UNAVAILABLE:
                        alert("Localização Indisponível !");
                        break;
                    case error.TIMEOUT:
                        alert("A Requisição Expirou !");
                        break;
                    case error.UNKNOWN_ERROR:
                        alert("Algum Erro Desconhecido Aconteceu !");
                        break;
                }
            }
        }
        else
        {
           alert("O Browser não suporta Geolocalização !");
        }
    }
  
  </script>
